app.controller('holaController', function ($scope, $routeParams, holaService) {
	$scope.contactNickname = $routeParams.contactNickname;
	$scope.newMessage = "";
	$scope.msgs = [];


	// get del mensaje y append a lista de mensajes
	holaService.getMessages($scope.contactNickname).then(
		function (res) {
			angular.copy(res, $scope.msgs);
		}
	);

	$scope.sendMessage = function () {	
		// post del mensaje al server
		holaService.sendMessage($scope.contactNickname, $scope.newMessage);	
		console.log($scope.newMessage);		

		// get del mensaje y append a lista de mensajes
		holaService.getMessages($scope.contactNickname).then(
			function (res) {
				angular.copy(res, $scope.msgs);
			}
		);

		$scope.newMessage = "";
	}
});
